## Декоратор login_required

Декоратор `login_required` в Django представляет собой механизм, который обеспечивает доступ к определенным представлениям только для авторизованных пользователей. Если пользователь не авторизован, то его перенаправляют на страницу входа.

### Назначение декоратора `login_required`:

Декоратор `login_required` применяется к представлению и гарантирует, что только аутентифицированные пользователи смогут получить доступ к нему. Это особенно важно для предотвращения несанкционированного доступа к чувствительным данным или функциональности.

Если пользователь не аутентифицированн, и он попытается зайти на страницу, защищенную декоратором `login_required`, то Django автоматически перенаправит его на страницу входа (обычно `'/accounts/login/'`). После успешной аутентификации пользователя, он будет перенаправлен обратно на исходную страницу.

### Пример использования декоратора `login_required`:

```python
from django.contrib.auth.decorators import login_required
from django.shortcuts import render

@login_required
def my_protected_view(request):
    # Защищенный код
    return render(request, 'my_template.html')

```

1. **Импорт декоратора:**
    
    Для использования декоратора `login_required`, нужно его импортировать из модуля `django.contrib.auth.decorators`.
    
    ```python
    from django.contrib.auth.decorators import login_required
    
    ```
    
2. **Применение декоратора:**
    
    Примените декоратор `login_required` к вашему представлению, доступ к которому вы хотите ограничить.
    
    ```python
    @login_required
    def my_protected_view(request):
        # Защищенный код
        return render(request, 'my_template.html')
    
    ```
    

### URL для аутентификации

Настройка URL для аутентификации в Django включает в себя определение URL-адреса, как минимум для входа Для использования декоратора `login_required` можно указать конкретный URL для перенаправления в случае неавторизованного доступа.

**Настройка `LOGIN_URL` в `settings.py`**

Если вы хотите установить глобальный URL для авторизации в приложении, вы можете указать его в файле `settings.py`:

```python
# settings.py
LOGIN_URL = '/admin/login/'  # Глобальный URL для аутентификации

```

**Настройка `login_url` в декораторе `login_required`**

Если вы хотите установить URL для авторизации конкретному представлению, вы можете указать его при декорировании используя аргумент **`login_url`**:

```python
@login_required(login_url='/admin/login/')  # URL для авторизации конкретному представлению
...
```