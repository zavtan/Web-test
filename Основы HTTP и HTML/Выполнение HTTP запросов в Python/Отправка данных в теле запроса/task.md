# Отправка данных в теле запроса

## POST запрос

HTTP является протоколом для обмена данными между клиентами и серверами. Однако, иногда клиенты, такие как веб-приложения или скрипты на Python, должны отправлять данные на сервер для обработки или хранения. Для этого используется отправка данных в теле HTTP-запроса.

Один из HTTP-методов для отправки данных в теле запроса — **POST**. Например, при регистрации пользователя на сайте, его данные могут быть отправлены на сервер с использованием POST-запроса.

При отправке данных в теле запроса, вы можете использовать различные форматы данных, включая:

- **Формы (Form data)**: Этот формат предназначен для отправки данных из HTML-форм. Обычно используется для отправки данных с веб-страниц.
- **JSON (JavaScript Object Notation)**: Удобный формат для представления структурированных данных. Он легко читаем для человека и легко обрабатывается компьютером.

В библиотеке `requests` в Python есть два основных способа передачи данных в теле POST-запроса: через аргументы `data` и `json`. Они имеют различное предназначение и формат данных.

Главное отличие между этими двумя способами состоит в формате данных и типе содержимого, который будет отправлен на сервер. Использование `json` часто предпочтительно, когда вы работаете с API, ожидающими JSON-данные, и когда вам необходимо передать более сложные структурированные данные. С использованием `data` можно работать с формами, отправлять данные как веб-формы.

## **data**

`application/x-www-form-urlencoded` - это один из форматов данных, используемых для отправки информации на сервер через HTTP запросы. Этот формат предназначен для отправки данных, как если бы они были отправлены из HTML-формы на веб-странице.

Основные особенности `application/x-www-form-urlencoded`:

1. **Кодировка данных**: Данные отправляются в виде пар "ключ-значение", где ключи и значения могут содержать только определенные символы (обычно буквы, цифры и некоторые специальные символы). Эти символы кодируются, например, пробелы заменяются на `%20`.
2. **Форма данных**: Этот формат данных часто используется для отправки данных из HTML-форм на веб-страницах. Когда пользователь заполняет форму и нажимает кнопку "Отправить", данные из формы отправляются на сервер в формате `application/x-www-form-urlencoded`.
3. **Ключи и значения**: Каждый ключ и его значение разделяются знаком равенства (`=`), а пары ключ-значение разделяются символом амперсанда (`&`).

Пример POST запроса с данными в формате `application/x-www-form-urlencoded`:

```python
import requests

data = {'name': 'John Doe', 'age': 30}
response = requests.post('https://example.com/submit-form', data=data)  # Передача данных через аргумент data

```

Когда вы передаете данные с использованием аргумента `data`, данные будут отправлены как обычные данные формы в формате `application/x-www-form-urlencoded`. Этот формат обычно используется для отправки данных, подобных формам HTML. 

```
POST /submit-form HTTP/1.1
Host: example.com
Content-Type: application/x-www-form-urlencoded

name=John%20Doe&age=30

```

Здесь отправляется POST-запрос на `/submit-form` с данными в формате `application/x-www-form-urlencoded`. В данном случае, отправляются данные о пользователе: имя и возраст. Каждая пара ключ-значение разделена символом `&`, и пробелы в значениях заменены на `%20` для корректной передачи через HTTP.

## **json**

`application/json` - это один из форматов для передачи данных в формате JSON (JavaScript Object Notation) через протокол HTTP. Он используется для обмена структурированными данными между клиентом и сервером.

Основные особенности `application/json`:

1. **Формат данных**: JSON - это текстовый формат обмена данными, представленный в виде пар "ключ-значение". Он поддерживает различные типы данных, включая строки, числа, логические значения, объекты и массивы.
2. **Применение**: `application/json` широко используется в веб-разработке для передачи данных между клиентской и серверной сторонами.

Пример POST запроса с данными в формате `application/json` 

```python
import requests

data = {'name': 'John Doe', 'age': 30}
response = requests.post('https://example.com/submit-data', json=data)  # Передача данных через аргумент json

```

Пример заголовка HTTP-запроса, указывающего использование `application/json`:

```
POST /submit-data HTTP/1.1
Host: example.com
Content-Type: application/json

{
  "name": "John Doe",
  "age": 30
}

```

В этом примере отправляется POST-запрос на `/submit-data` и передаются данные в формате JSON в теле запроса. Содержимое тела запроса представляет собой объект JSON.

## Задание

Вы, вероятно, замечали, что некоторые ссылки на веб-страницах выглядят очень длинными и громоздкими. Например, ссылка на интересную статью или видеоролик может иметь несколько десятков символов и выглядеть как бессмысленная последовательность букв и цифр.

Но что, если бы вы могли превратить эту длинную ссылку в что-то короткое, легкое для запоминания и обмена?

Вашей задачей будет создать короткую ссылку для любой длинной ссылки, которую вы выберете. Для этого вы будете использовать API сервиса CleanURI, который превратит длинную ссылку в короткую всего в несколько мгновений.

### Задача

1. Создайте словарь `data` с данными для отправки в POST-запросе. В этом словаре должно быть поле **`"url"`**, которое содержит вашу любую ссылку.
2. Затем отправьте POST-запрос к URL `"https://cleanuri.com/api/v1/shorten"` с вашими данными. Данные должны быть переданы в формате JSON.
3. В ответ вы получите ответ в формате JSON, содержащий короткую ссылку, которую можно будет использовать. Распечатайте JSON объект из ответа сервера. 
