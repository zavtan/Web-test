# Библиотека requests

## Цель урока:

После выполнения этого задания вы научитесь использовать библиотеку `requests` в Python для выполнения HTTP запросов к веб-ресурсам и получения ответов от серверов.

## Введение в библиотеку requests

### Что такое библиотека requests?

Библиотека `requests` является мощным инструментом для выполнения HTTP запросов в Python. Она обеспечивает простой и удобный способ взаимодействия с веб-ресурсами, отправки запросов на серверы и получения ответов. Благодаря этой библиотеке, работа с веб-сервисами и API становится намного более удобной.

### Зачем она используется в Python-программировании?

В современном мире множество приложений и сервисов работает через сеть, обмениваясь данными по протоколу HTTP. Библиотека `requests` позволяет разработчикам легко создавать Python-скрипты, которые могут отправлять HTTP запросы на серверы, получать ответы и обрабатывать данные, полученные в ответе. Это особенно полезно при работе с API, веб-скрапингом и другими задачами, связанными с взаимодействием с веб-ресурсами.

### Преимущества использования requests для выполнения HTTP запросов

1. **Простота использования:** Библиотека `requests` предоставляет простой и интуитивно понятный интерфейс для выполнения HTTP запросов. Вам не придется писать сложный код для отправки и обработки запросов.
2. **Обширные возможности:** Она поддерживает разнообразные HTTP методы (GET, POST и другие), а также позволяет устанавливать заголовки, передавать параметры запроса и тело запроса.
3. **Обработка ошибок:** Библиотека предоставляет удобные способы обработки ошибок при выполнении запросов, что помогает создавать стабильные и надежные приложения.

## Установка и импорт библиотеки requests

### Как установить библиотеку requests через pip

Для установки библиотеки `requests` можно использовать утилиту `pip`, которая является стандартным инструментом для управления пакетами Python. Откройте командную строку или терминал и выполните следующую команду:

```bash
pip install requests

```

### Использование модуля requests в Python

После установки библиотеки, вы можете импортировать модуль `requests` в свой Python-скрипт с помощью следующей строки:

```python
import requests

```

При выполнении GET запроса с использованием библиотеки `requests`, можно получить HTML страницу с сервера. В этом примере выполним GET запрос к `http://www.example.com` и извлечем HTML страницу из тела ответа.

```python
import requests

url = "http://www.example.com"
response = requests.get(url)

# Получение HTML страницы из тела ответа
html_content = response.text

# Вывод HTML страницы
print(html_content)

# Определение типа контента в ответе
content_type = response.headers["Content-Type"]  # headers содержит в себе заголовки ответа 
print(f"Тип контента: {content_type}")

```

В этом примере сначала отправляется GET запрос на `http://www.example.com` и сохраняется ответ в переменную `response`. Затем, используя атрибут `.text` объекта `response`, извлекается HTML страница из тела ответа. Особо углубляться в содержимое ответа не будем, давайте лучше проверим, что в ответ действительно прошел HTML. 

Для того, чтобы определить тип контента в ответе, обращаемся к заголовкам ответа, а именно к заголовку `"Content-Type"`. Это позволит узнать, что в ответе содержится именно HTML страница.

В результате выполнения этого кода, на экране будет выведена HTML страница с `http://www.example.com`, и будет указан её тип контента, например `"text/html"`.